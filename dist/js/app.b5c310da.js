(function(t){function e(e){for(var n,i,s=e[0],l=e[1],c=e[2],p=0,d=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,s=1;s<a.length;s++){var l=a[s];0!==o[l]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},o={app:0},r=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("85ec"),o=a.n(n);o.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=a("8c4f"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("h1",[t._v("Kanban")]),a("router-view")],1)},i=[],s={name:"App",components:{}},l=s,c=(a("034f"),a("2877")),u=Object(c["a"])(l,r,i,!1,null,null,null),p=u.exports,d=a("5f5b"),m=a("b1e0"),h=(a("f9e3"),a("2dd8"),a("bc9b"),a("d644")),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"b-container mt-5 mx-5"},[a("FormulateForm",{on:{submit:t.handleSubmit},model:{value:t.formValues,callback:function(e){t.formValues=e},expression:"formValues"}},[a("FormulateInput",{attrs:{name:"name",label:"Name",validation:"required"}}),a("FormulateInput",{attrs:{name:"education",label:"Education",validation:"required"}}),a("FormulateInput",{attrs:{name:"contact",label:"Contact",validation:"required|number"},on:{blur:t.checkApplicant}}),a("FormulateInput",{attrs:{disabled:t.applicantRegistered,type:"submit",label:"Add Applicant"}}),a("p",{directives:[{name:"show",rawName:"v-show",value:t.applicantRegistered,expression:"applicantRegistered"}]},[t._v("'Adding failed. This contact number is already registered'")])],1),a("br"),a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],attrs:{block:"",pill:"",variant:"outline-primary"}},[t._v("Switch Between Abstract / Detail View")]),a("div",{staticClass:"row mt-4"},t._l(t.boardName,(function(e){return a("div",{key:e,staticClass:"col-4"},[a("div",{staticClass:"p-2 alert alert-success"},[a("h3",[t._v(t._s(e))]),a("draggable",{staticClass:"list-group kanban-column",attrs:{list:t.listBoard[e],group:"tasks"},on:{end:t.updateStatus}},t._l(t.listBoard[e],(function(e){return a("div",{key:e.name,staticClass:"list-group-item"},[a("div",[a("div",{domProps:{innerHTML:t._s(e.renderCard())}}),a("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"}},[a("b-card",[a("FormulateForm",{on:{submit:function(a){return t.submitReview(e)}},model:{value:t.reviewForm,callback:function(e){t.reviewForm=e},expression:"reviewForm"}},[a("FormulateInput",{attrs:{name:"rate",options:{1:1,2:2,3:3,4:4,5:5},type:"select",placeholder:"Your rating",label:"How well is this applicant?"}}),a("FormulateInput",{attrs:{name:"author",placeholder:"Reviewer",validation:"required"}}),a("FormulateInput",{attrs:{name:"comment",placeholder:"Enter your comment",validation:"required"}}),a("FormulateInput",{attrs:{type:"submit",disabled:e.reviewed,label:"Submit"}}),a("p",{directives:[{name:"show",rawName:"v-show",value:e.reviewed,expression:"element.reviewed"}]},[t._v("Submitted! Refresh the page to see updated result")])],1)],1),a("b-card",[a("p",[t._v("Comments")]),a("b-list-group",t._l(e.comments,(function(e){return a("b-list-group-item",{key:e.author,staticClass:"d-flex align-items-center"},[a("b-avatar",{staticClass:"mr-3"}),a("span",{staticClass:"mr-auto"},[t._v(t._s(e["author"]))]),a("span",{staticClass:"mr-auto"},[t._v(t._s(e["content"]))])],1)})),1)],1)],1)],1)])})),0)],1)])})),0)],1)},b=[],v=(a("b0c0"),a("d3b7"),a("25f0"),a("d4ec")),g=a("bee2"),w=a("b85c"),y=a("b76a"),j=a.n(y),A=a("bc3a"),_=a.n(A),C="http://localhost:8000/",O={name:"Kanban",components:{draggable:j.a},data:function(){return{formValues:{},newApplicant:"",boardName:["Applied","PhoneScreen","OnSite","Offered","Accepted","Rejected"],listBoard:{Applied:[],PhoneScreen:[],OnSite:[],Offered:[],Accepted:[],Rejected:[]},tempRate:0,reviewForm:null,collapseID:1,applicantRegistered:!1}},mounted:function(){console.log(this.listBoard),this.getAllApplicants(),console.log(this.listBoard)},methods:{handleSubmit:function(){console.log(this.formValues);var t=this.formValues["contact"];if(this.checkApplicant(t),console.log(this.applicantRegistered),this.applicantRegistered);else{var e=new F(this.formValues["name"],this.formValues["education"],this.formValues["contact"]);this.listBoard["Applied"].push(e),console.log(this.listBoard["Applied"]),_()({url:C+"add-applicant",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},data:{name:e.name,education:e.education,contact:e.contact,status:"Applied",rate:0,rate_number:0}})}},submitReview:function(t){console.log("fired "+this.reviewForm),_()({url:C+"add-rate",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},data:{contact:t.contact,newRate:this.reviewForm["rate"]}}),_()({url:C+"add-comment",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},data:{contact:t.contact,author:this.reviewForm["author"],content:this.reviewForm["comment"]}}),t.reviewed=!0},checkApplicant:function(){var t=this,e=this.formValues["contact"];_()({url:C+"get-applicant",params:{contact:e},method:"get",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log("check applicant: "+e.data),"1"==e.data?t.applicantRegistered=!0:t.applicantRegistered=!1}))},getAllApplicants:function(){var t=this,e=null;_()({url:C+"get-all-applicants",method:"get",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(a){console.log(a.data[0]);var n,o=Object(w["a"])(a.data);try{for(o.s();!(n=o.n()).done;){e=n.value;var r=new F(e.name,e.education,e.contact);r.rate=e.rate,r.comments=e.comment,r.id=e.id,t.listBoard[e.status].push(r)}}catch(i){o.e(i)}finally{o.f()}}))},refreshList:function(){var t,e=null,a=Object(w["a"])(this.boardName);try{for(a.s();!(t=a.n()).done;)e=t.value,this.listBoard[e]=[]}catch(n){a.e(n)}finally{a.f()}},updateStatus:function(){console.log("updating status");for(var t=0;t<this.boardName.length;t++)for(var e=this.boardName[t],a=this.listBoard[e],n=0;n<a.length;n++)a[n].status!==e&&_()({url:C+"update-applicant-status",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},data:{contact:a[n].contact,status:e}})},incrementCollapseID:function(){return this.collapseID++,"collapse-"+this.collapseID.toString()}}},F=function(){function t(e,a,n){Object(v["a"])(this,t),this.id=0,this.name=e,this.education=a,this.contact=n,this.status="Applied",this.rate=0,this.reviewed=!1,this.comments=[]}return Object(g["a"])(t,[{key:"renderCard",value:function(){return"<h5>"+this.name+"</h5><span>"+this.education+"    |    </span><span>"+this.contact+"    |    </span><span>Avg. Rating: "+this.rate+"</span>"}}]),t}(),R=O,S=(a("7139"),Object(c["a"])(R,f,b,!1,null,null,null)),k=S.exports,x=a("2106"),I=a.n(x);n["default"].use(I.a),n["default"].use(_.a),n["default"].use(o["a"]),n["default"].use(d["a"]),n["default"].use(m["a"]),n["default"].use(h["a"]),n["default"].config.productionTip=!1;var B=[{path:"/",component:k}],T=new o["a"]({routes:B});new n["default"]({router:T,render:function(t){return t(p)}}).$mount("#app");e["default"]=T},7139:function(t,e,a){"use strict";var n=a("8c89"),o=a.n(n);o.a},"85ec":function(t,e,a){},"8c89":function(t,e,a){},bc9b:function(t,e,a){}});
//# sourceMappingURL=app.b5c310da.js.map